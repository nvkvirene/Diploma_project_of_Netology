# **План автоматизации:**  
***
## 1. Перечень автоматизируемых сценариев;  
***
## Тестовые данные
Набор карт представлен в формате JSON в файле data.json, а именно:
> [
{
"number": "4444 4444 4444 4441",
"status": "APPROVED"
},  
> {
"number": "4444 4444 4444 4442",
"status": "DECLINED"
}
]  
>
Валидные данные для заполнения полей формы:  
* Поле "Номер карты" - состоит из цифр 16-ти значного номера  
* Поле "Месяц" - состоит из цифр 01-12, но не ранее текущего месяца, если год окончания действия карты равен текущему году 
* Поле "Год" - состоит из 2 последних цифр года, но не ранее текущего, а также не отстоящего от текущего более чем на 6 лет \(обычный срок действия карты)   
* Поле "Владелец" - состоит из букв латинского алфавита и указывается ИМЯ и ФАМИЛИЯ  
* Поле "CVC/CVV" - состоит из 3 цифр

### 1.1.  Покупка тура по вкладке "Купить".  

#### 1.1.1. Покупка тура при оплате картой со статусом APPROVED  

1. Нажать на вкладку "Купить"  
2. Заполнить все поля валидными данными карты со статусом APPROVED, а именно:  
* Номер карты - 4444 4444 4444 4441  
* Месяц - 12  
* Год - 22  
* Владелец - Irina Novikova
* CVC/CVV - 888  
3. Нажать на кнопку "Продолжить"  

  Ожидаемый результат:  
  Появилось всплывающее уведомление в правом верхнем углу страницы: 
  Успешно.  
  Операция одобрена Банком.  
  В БД сохранен результат проведенной операции.

#### 1.1.2. Покупка тура при оплате картой со статусом DECLINED  

1. Нажать на вкладку "Купить"  
2. Заполнить все поля валидными данными карты со статусом DECLINED, а именно:
* Номер карты - 4444 4444 4444 4442  
* Месяц - 03  
* Год - 25  
* Владелец - Platon Solntsev  
* CVC/CVV - 123
3. Нажать на кнопку "Продолжить"  

  Ожидаемый результат:  
  Появилось всплывающее уведомление в правом верхнем углу страницы: 
  Ошибка!  
  Банк отказал в проведении операции.  
  В БД сохранен результат проведенной операции со статусом DECLINED.

#### 1.1.3. Покупка тура при отправке пустых значений в полях формы 

1. Нажать на вкладку "Купить"
2. Нажать на кнопку "Продолжить";  

  Ожидаемый результат: Поля подсвечены красным цветом с описанием требования, а именно:  
* Номер карты - Неверный формат
* Месяц - Неверный формат
* Год - Неверный формат
* Владелец - Поле обязательно для заполнения
* CVC/CVV - Неверный формат

### 1.2.  Покупка тура через вкладку "Купить в кредит".  

#### 1.2.1. Покупка тура при вводе данных карты со статусом APPROVED  

1. Нажать на вкладку "Купить в кредит"
2. Заполнить все поля валидными данными карты со статусом APPROVED, а именно:
* Номер карты - 4444 4444 4444 4441
* Месяц - 12
* Год - 22
* Владелец - Irina Novikova
* CVC/CVV - 888
3. Нажать на кнопку "Продолжить"  

   Ожидаемый результат:  
Появилось всплывающее уведомление в правом верхнем углу страницы: 
Успешно.  
Операция одобрена Банком.  
В БД сохранен результат проведенной операции.

#### 1.2.2. Покупка тура при вводе данных карты со статусом DECLINED   

1. Нажать на вкладку "Купить в кредит"
2. Заполнить все поля валидными данными карты со статусом DECLINED, а именно:
* Номер карты - 4444 4444 4444 4442
* Месяц - 03
* Год - 25
* Владелец - Platon Solntsev  
* CVC/CVV - 123
3. Нажать на кнопку "Продолжить"  

  Ожидаемый результат:  
  Появилось всплывающее уведомление в правом верхнем углу страницы: 
  Ошибка!  
  Банк отказал в проведении операции.  
  В БД отсутствует результат проведенной операции.

#### 1.2.3. Покупка тура при отправке пустых значений в полях формы  

1. Нажать на вкладку "Купить в кредит"  
2. Нажать на кнопку "Продолжить"  

  Ожидаемый результат:  
  Поля подсвечены красным цветом с описанием требования, а именно:  
* Номер карты - Неверный формат
* Месяц - Неверный формат
* Год - Неверный формат
* Владелец - Поле обязательно для заполнения
* CVC/CVV - Неверный формат  

### 1.3. Проверка валидации полей ввода данных по вкладке "Купить"

#### 1.3.1. Поле "Номер карты"  

1.3.1.1. Оставить поле пустым

1. Нажать на вкладку "Купить"  
2. Поле "Номер карты" оставить пустым  
2. Остальные поля заполнить валидными данными  
6. Нажать на кнопку "Продолжить"
7. Ожидаемый результат:  
У поля "Номер карты" появляется уведомление: `Неверный формат`.  
Поле подсвечено красным.  

1.3.1.2. Заполнить поле значением меньше 16 цифр  

1. Нажать на вкладку "Купить"  
2. Ввести в поле "Номер карты" - 4444 4444 4444 444  
2. Остальные поля заполнить валидными данными 
6. Нажать на кнопку "Продолжить"  
7. Ожидаемый результат:  
У поля "Номер карты" появляется уведомление: `Неверный формат`.  
Поле подсвечено красным.  

1.3.1.3. Заполнить поле значением больше 16 цифр  

1. Нажать на вкладку "Купить"
2. Ввести в поле "Номер карты" - 4444 4444 4444 4441 1
2. Остальные поля заполнить валидными данными
6. Нажать на кнопку "Продолжить"
7. Ожидаемый результат:  
В поле "Номер карты" отображается введенное значение 4444 4444 4444 4441.  
*Поле имеет ограничение maxlength равное 19 знакам,  
что не позволяет вводить значение большего размера.  

1.3.1.4. Заполнить поле буквами  

1. Нажать на вкладку "Купить"
2. Ввести в поле "Номер карты" буквенные значения - фффф фффф ыыыы ыыыы
2. Остальные поля заполнить валидными данными
6. Нажать на кнопку "Продолжить"
7. Ожидаемый результат:  
Появляется уведомление: `Неверный формат`. Поле подсвечено красным.  
Поле "Номер карты" не отображает введенных значений.  
*Поле имеет ограничение на ввод буквенных значений.  
  
1.3.1.5. Заполнить поле спецсимволами  

1. Нажать на вкладку "Купить"
2. Ввести в поле "Номер карты" спецсимволы -  *? |,.; :'! #%^&
2. Остальные поля заполнить валидными данными
6. Нажать на кнопку "Продолжить"
7. Ожидаемый результат:  
Появляется уведомление: `Неверный формат`. Поле подсвечено красным.  
Поле "Номер карты" не отображает введенных значений.  
*Поле имеет ограничение на ввод спецсимволов.  

1.3.1.6. Заполнить поле нулевыми значениями

1. Нажать на вкладку "Купить"
2. Ввести в поле "Номер карты" спецсимволы -  0000 0000 0000 0000
2. Остальные поля заполнить валидными данными
6. Нажать на кнопку "Продолжить"
7. Ожидаемый результат:  
Появляется уведомление: `Неверный формат`.  
Поле подсвечено красным.  

#### 1.3.2. Поле "Месяц"  

1.3.2.1. Оставить поле пустым

1. Нажать на вкладку "Купить"
2. Поле "Месяц" оставить пустым  
2. Остальные поля заполнить валидными данными 
6. Нажать на кнопку "Продолжить"  
7. Ожидаемый результат:  
У поля "Месяц" появляется уведомление: `Неверный формат`.  
Поле подсвечено красным. 

1.3.2.2. Заполнить поле значением меньше 2 цифр  

1. Нажать на вкладку "Купить"  
2. Ввести в поле "Месяц" - 1  
2. Остальные поля заполнить валидными данными
6. Нажать на кнопку "Продолжить"  
7. Ожидаемый результат:  
У поля "Месяц" появляется уведомление: `Неверный формат`.  
Поле подсвечено красным.

1.3.2.3. Заполнить поле значением больше 2 цифр  

1. Нажать на вкладку "Купить"  
2. Ввести в поле "Месяц" - 122  
2. Остальные поля заполнить валидными данными  
6. Нажать на кнопку "Продолжить"  
7. Ожидаемый результат:  
У поля "Месяц" появляется уведомление: `Неверно указан срок действия карты`.  
Поле подсвечено красным.
В поле отображается введенное значение 11.  
*Поле имеет ограничение maxlength равное 2 знакам,  
что не позволяет вводить значение большего размера.  

1.3.2.4. Заполнить поле буквами  

1. Нажать на вкладку "Купить"  
2. Ввести в поле "Месяц" - вв  
2. Остальные поля заполнить валидными данными 
6. Нажать на кнопку "Продолжить"  
7. Ожидаемый результат:  
У поля "Месяц" появляется уведомление: `Неверный формат`.  
Поле подсвечено красным.  
*Поле не позволяет ввести буквенные значения.  

1.3.2.5. Заполнить поле спецсимволами  

1. Нажать на вкладку "Купить"  
2. Ввести в поле "Месяц" - %%  
2. Остальные поля заполнить валидными данными 
6. Нажать на кнопку "Продолжить"  
7. Ожидаемый результат:  
У поля "Месяц" появляется уведомление: `Неверный формат`.  
Поле подсвечено красным.  
*Поле не позволяет ввести спецсимволы.  

1.3.2.6. Заполнить поле несуществующим месяцем  

1. Нажать на вкладку "Купить"  
2. Ввести в поле "Месяц" - 13  
2. Остальные поля заполнить валидными данными 
6. Нажать на кнопку "Продолжить" 
7. Ожидаемый результат:  
У поля "Месяц" появляется уведомление: `Неверно указан срок действия карты`.  
Поле подсвечено красным.  

1.3.2.7. Заполнить поле прошлым месяцем текущего года  

1. Нажать на вкладку "Купить"  
2. Ввести в поле "Месяц" - 11  
2. Остальные поля заполнить валидными данными  
6. Нажать на кнопку "Продолжить"  
7. Ожидаемый результат:  
У поля "Месяц" появляется уведомление: `Неверно указан срок действия карты`.  
Поле подсвечено красным.  

1.3.2.8. Заполнить поле нулевым значением  

1. Нажать на вкладку "Купить"  
2. Ввести в поле "Месяц" - 00 
2. Остальные поля заполнить валидными данными 
6. Нажать на кнопку "Продолжить"  
7. Ожидаемый результат:  
У поля "Месяц" появляется уведомление: `Неверно указан срок действия карты`.  
Поле подсвечено красным. 

#### 1.3.3. Поле "Год"  

1.3.3.1. Оставить поле пустым  

1. Нажать на вкладку "Купить"  
2. Поле "Год" остаавить пустым  
2. Остальные поля заполнить валидными данными
6. Нажать на кнопку "Продолжить"
7. Ожидаемый результат:  
У поля "Год" появляется уведомление: `Неверный формат`.  
Поле подсвечено красным.

1.3.3.2. Заполнить поле значением меньше 2 цифр 

1. Нажать на вкладку "Купить"
2. Ввести в поле "Год" - 2
2. Остальные поля заполнить валидными данными
6. Нажать на кнопку "Продолжить"
7. Ожидаемый результат:  
У поля "Год" появляется уведомление: `Неверный формат`.  
Поле подсвечено красным.

1.3.3.3. Заполнить поле значением больше 2 цифр 

1. Нажать на вкладку "Купить"
2. Ввести в поле "Год" - 222
2. Остальные поля заполнить валидными данными
6. Нажать на кнопку "Продолжить"
7. Ожидаемый результат:  
У поля "Год" появляется уведомление: `Неверно указан срок действия карты`.  
Поле подсвечено красным.  
В поле отображается введенное значение 55.  
*Поле имеет ограничение maxlength равное 2 знакам,  
что не позволяет вводить значение большего размера.  

1.3.3.4. Заполнить поле буквами  

1. Нажать на вкладку "Купить"
2. Ввести в поле "Год" - ро
2. Остальные поля заполнить валидными данными
6. Нажать на кнопку "Продолжить"
7. Ожидаемый результат:  
У поля "Год" появляется уведомление: `Неверный формат`.  
Поле подсвечено красным.  
*Поле не позволяет ввести буквенные значения.  

1.3.3.5. Заполнить поле спецсимволами  

1. Нажать на вкладку "Купить"  
2. Ввести в поле "Год" - №;  
2. Остальные поля заполнить валидными данными 
6. Нажать на кнопку "Продолжить"  
7. Ожидаемый результат:  
У поля "Год" появляется уведомление: `Неверный формат`.  
Поле подсвечено красным.  
*Поле не позволяет ввести спецсимволы. 

1.3.3.6. Заполнить поле нулевым значением 

1. Нажать на вкладку "Купить"
2. Ввести в поле "Год" - 00
2. Остальные поля заполнить валидными данными
6. Нажать на кнопку "Продолжить"
7. Ожидаемый результат:  
У поля "Год" появляется уведомление: `Истёк срок действия карты`.  
Поле подсвечено красным.

1.3.3.7. Заполнить поле значением предыдущего года  

1. Нажать на вкладку "Купить"
2. Ввести в поле "Год" - 21
2. Остальные поля заполнить валидными данными
6. Нажать на кнопку "Продолжить"
7. Ожидаемый результат:  
У поля "Год" появляется уведомление: `Истёк срок действия карты`.  
Поле подсвечено красным.

1.3.3.8. Заполнить поле значением отстоящим от текущего более чем на 6 лет  
\(обычный срок действия карты)  

1. Нажать на вкладку "Купить"
2. Ввести в поле "Год" - 29
2. Остальные поля заполнить валидными данными
6. Нажать на кнопку "Продолжить"
7. Ожидаемый результат:  
У поля "Год" появляется уведомление: `Неверно указан срок действия карты`.  
Поле подсвечено красным.

#### 1.3.4. Поле "Владелец"  

1.3.4.1. Оставить поле пустым  

1. Нажать на вкладку "Купить"  
2. Поле "Владелец" оставить пустым  
2. Остальные поля заполнить валидными данными
6. Нажать на кнопку "Продолжить"
7. Ожидаемый результат:  
У поля "Владелец" появляется уведомление: `Поле обязательно для заполнения`.  
Поле подсвечено красным.

1.3.4.2. Заполнить поле 1 буквой 

1. Нажать на вкладку "Купить"
2. Ввести в поле "Владелец" - N
2. Остальные поля заполнить валидными данными
6. Нажать на кнопку "Продолжить"
7. Ожидаемый результат:  
У поля "Владелец" появляется уведомление: `Значение поля должно содержать больше одной буквы`.  
Поле подсвечено красным.

1.3.4.3. Заполнить поле значением через пробел, состоящим из двойного имени 

1. Нажать на вкладку "Купить"
2. Ввести в поле "Владелец" - Anna Maria Novikova
2. Остальные поля заполнить валидными данными
6. Нажать на кнопку "Продолжить"
7. Ожидаемый результат:  
У поля "Владелец" появляется уведомление:  `Поле обязательно для заполнения`.  
Поле подсвечено красным.

1.3.4.4. Заполнить поле значением через пробел, состоящим из имени через дефис

1. Нажать на вкладку "Купить"
2. Ввести в поле "Владелец" - Anna-Maria Novikova
2. Остальные поля заполнить валидными данными
6. Нажать на кнопку "Продолжить"
7. Ожидаемый результат:  
У поля "Владелец" появляется уведомление: `Поле обязательно для заполнения`.  
Поле подсвечено красным.

1.3.4.5. Заполнить поле значением на кириллице 

1. Нажать на вкладку "Купить"  
2. Ввести в поле "Владелец" - Ирина Новикова
2. Остальные поля заполнить валидными данными
6. Нажать на кнопку "Продолжить"
7. Ожидаемый результат:  
У поля "Владелец" появляется уведомление: `Поле обязательно для заполнения`.  
Поле подсвечено красным.

1.3.4.6. Заполнить поле цифрами  

1. Нажать на вкладку "Купить"
2. Ввести в поле "Владелец" - 12334 45
2. Остальные поля заполнить валидными данными
6. Нажать на кнопку "Продолжить"
7. Ожидаемый результат:  
У поля "Владелец" появляется уведомление: `Поле обязательно для заполнения`.  
Поле подсвечено красным.  
*Поле не позволяет ввести буквенные значения.  

1.3.4.7. Заполнить поле спецсимволами    

1. Нажать на вкладку "Купить"  
2. Ввести в поле "Владелец" - %:;;№  
2. Остальные поля заполнить валидными данными 
6. Нажать на кнопку "Продолжить"  
7. Ожидаемый результат:  
У поля "Владелец" появляется уведомление: `Поле обязательно для заполнения`.  
Поле подсвечено красным.  
*Поле не позволяет ввести спецсимволы.  

#### 1.3.5. Поле "CVC/CVV"  

1.3.5.1. Оставить поле пустым  

1. Нажать на вкладку "Купить"  
2. Поле "CVC/CVV" оставить пустым  
2. Остальные поля заполнить валидными данными 
6. Нажать на кнопку "Продолжить"  
7. Ожидаемый результат:  
У поля "CVC/CVV" появляется уведомление: `Неверный формат`.  
Поле подсвечено красным.

1.3.5.2. Заполнить поле значением меньше 3 цифр 

1. Нажать на вкладку "Купить"
2. Ввести в поле "CVC/CVV" - 2
2. Остальные поля заполнить валидными данными
6. Нажать на кнопку "Продолжить"
7. Ожидаемый результат:  
У поля "CVC/CVV" появляется уведомление: `Неверный формат`.  
Поле подсвечено красным.

1.3.5.3. Заполнить поле значением больше 3 цифр 

1. Нажать на вкладку "Купить"
2. Ввести в поле "CVC/CVV" - 6666  
2. Остальные поля заполнить валидными данными  
6. Нажать на кнопку "Продолжить"  
7. Ожидаемый результат:  
У поля "CVC/CVV" появляется уведомление: `Неверный формат`.  
Поле подсвечено красным.  
В поле отображается введенное значение 666.  
*Поле имеет ограничение maxlength равное 3 знакам,  
что не позволяет вводить значение большего размера.  

1.3.5.4. Заполнить поле буквами 

1. Нажать на вкладку "Купить"
2. Ввести в поле "CVC/CVV" - олд
2. Остальные поля заполнить валидными данными 
6. Нажать на кнопку "Продолжить"
7. Ожидаемый результат:  
У поля "CVC/CVV" появляется уведомление: `Неверный формат`.  
Поле подсвечено красным.  
*В поле не отображаются введенные значения.  
Поле не позволяет ввести буквенные значения.  
 
1.3.5.5. Заполнить поле спецсимволами 

1. Нажать на вкладку "Купить"
2. Ввести в поле "CVC/CVV" - :?*
2. Остальные поля заполнить валидными данными 
6. Нажать на кнопку "Продолжить"
7. Ожидаемый результат:  
У поля "CVC/CVV" появляется уведомление: `Неверный формат`.  
Поле подсвечено красным.  
*В поле не отображаются введенные значения.  
Поле не позволяет ввести спецсимволы.  
 
1.3.5.6. Заполнить поле нулевым значением 

1. Нажать на вкладку "Купить"  
2. Ввести в поле "CVC/CVV" - 000  
2. Остальные поля заполнить валидными данными 
6. Нажать на кнопку "Продолжить"  
7. Ожидаемый результат:  
У поля "CVC/CVV" появляется уведомление: `Неверный формат`.  
Поле подсвечено красным.

### 1.4. Проверка валидации полей ввода данных по вкладке "Купить в кредит" проводится аналогичным образом.

## 2. Перечень используемых инструментов с обоснованием выбора;  
***
* IntelliJ IDEA \(в том числе: Java 11, JUnit5, Gradle, Allure)  
Програмное приложение, включающее комплекс програмных средств для написания, исполнения, отладки и оптимизации кода для Java  
* Docker Desktop \(в том числе Docker Hub для скачивания images MySQL и PostgreSQL, Node.js)  
Приложение, позволяющее локально собирать, выполнять и тестировать контейнеры.  
Docker Hub - открытый репозиторий образов контейнеров.  
* Google Chrome Версия 108.0.5359.96  
  Веб-браузер
* GitHub  
Сервис для хостинга репозиториев.  

## 3. Перечень и описание возможных рисков при автоматизации;  
***
1. Поиск css селекторов и необходимых зависимостей  
2. Поиск решения для генерация тестовых данных
3. Работа с БД 
3. Выяснение причин падения тестов  
4. Осмысление встреченных багов при работе с формой и их оформление в баг-репорт  

## 4. Интервальная оценка с учётом рисков в часах;  
***
1. Настройка докера, создание файла docker-compose и подключение баз данных, а также создание Dockerfile - 7 часов  
2. Подключение каталога gate-simulator - 1 час  
3. Написание автотестов - 54-60 часов  
4. Интеграция отчетов в проект - 6-12 часов  
5. Выгрузка проекта на GitHub и оформление баг-репортов в issue - 6-12 часов  

* Интеграция всей системы с CI при успешном выполнении в срок выше перечисленных пунктов - 8-16 часов   

## 5. План сдачи работ: когда будут готовы автотесты, результаты их прогона;  
***
Автоматизация тест-кейсов до 25.12.2022  
Доработка проекта по результатам обратной связи до 28.12.2022  